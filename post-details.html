<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>JS Project | User post and comments</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<script src="fetch_render.js"></script>
<script>
    // Alternative: Get parameters from URL
    // const userId = new URL(location).searchParams.get("id")
    // const postId = new URL(location).searchParams.get("postId")

    // Get user post from session storage
    const post = JSON.parse(sessionStorage.getItem("post"))
    // Create base elements and headers
    const postDetails = elm("div")
    const comments = elm("div")
    const postHeader = elm("h3")
    const commentsHeader = elm("h3")
    postHeader.innerText = "User post details:"
    postHeader.classList.add("post_header")
    postHeader.style.cssText = `animation: fadeout 0.2s 0.3s forwards `;
    commentsHeader.innerText = "Comments for User post:"
    commentsHeader.style.cssText = `animation: fadeout 0.2s 0.3s forwards `;
    comments.classList.add("comments")
    postDetails.classList.add("post_details")
    body.append(postHeader, postDetails)

    // Alternative: Render user post from database as per parameters
    // fetchRender(`https://jsonplaceholder.typicode.com/posts/?userid=${userId}&id=${postId}`, postDetails, ["all"])

    // Render user post received from session storage
    render(post, postDetails, ["all"])
    body.append(commentsHeader, comments)

    //  Alternative: Render comments to the user post from database as per parameters
    //     fetchRender(` https://jsonplaceholder.typicode.com/comments/?postId=${postId}`, comments, ["all"])

     // Render comments to the user post from database.
    fetchRender(` https://jsonplaceholder.typicode.com/comments/?postId=${post.id}`, comments, ["all"])
</script>
</body>
</html>